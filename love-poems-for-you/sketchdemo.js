let poem = [{
  name: "“Love” Elizabeth Barret Browning \n \n But when a soul, by choice and conscience, doth \n Throw out her full force on another soul, \n The conscience and the concentration both \n Make mere life, Love. For Life in perfect whole \n And aim consummated, is Love in sooth, \n As nature's magnet-heat rounds pole with pole."
}, {
  name: "“Love” Samuel Taylor Coleridge \n \n All thoughts, all passions, all delights, \n Whatever stirs this mortal frame, \n All are but ministers of Love, \n And feed his sacred flame."
}, {
  name: "“Love” Lloyd Schwartz \n \n 'Why live? I never really thought. \n I never went to church, or read books. \n I worked, for a railroad; but work \n was like sleepwalking. \n I took drugs and drove around. \n I married a girl who loved me. \n Why? I wasn't very good to her \n most of the time. And she died.'"
}, {
  name: "“Love” Marjorie Comstock Hart \n \n I have known love where lights and shadows lace \n As the wind lifts the clover. \n I have seen the moonlit face \n Of my lover."
}, {
  name: "“Love” John F. Finerty \n \n Love is not the thing we thought- \n       Toy for golden afternoons, \n Bauble to be lightly bought, \n      Gamed for under silver moons."
}, {
  name: "“Love my enemies, enemy my love” Rebecca Seiferle \n \n Oh, we fear our enemy's mind, the shape \n in his thought that resembles the cripple \n in our own, for it's not just his fear \n we fear, but his love and his paradise."
}, {
  name: "“Love I’m Done With You” Ross Gay \n \n ...Love, it used to be \n you could retire your toothbrush for like two or three days and still \n I'd push my downy face into your neck. Used to be \n I hung on your every word."
}, {
  name: "“Love’s Last” Christian Wiman \n \n Love's last urgency is earth \n and grief is all gravity \n \n and the long fall always \n back to earliest hours \n \n that exist nowhere \n but in one's brain."
}, {
  name: "“Love is Like a Faucet” Yolanda Wisher \n \n these breasts \n gonna put old Betsy \n outta business \n & send the men \n with goats a-packin. \n this love is like a faucet, \n it turns on & on."
}, {
  name: "“Love Train” Tomas Q. Morin \n \n Out of patience, I opened every door \n marked with threes and eights, those conjoined twins \n disastrousley separated at birth, \n and roused the scabbed eyes of sleepers \n like a beggar, no, an angel, \n a begging angel who has written on his heart \n will work for love."
}, {
  name: "“Love Song: I and Thou” Alan Dugan \n \n I can nail my left palm \n      to the left-hand crosspiece but \n I can't do everything myself. \n      I need a hand to nail the right, \n a help, a love, a you, a wife."
}, {
  name: "“Love Song” William Carlos Williams \n \n I lie here thinking of you:— \n the stain of love \n is upon the world! \n Yellow, yellow, yellow \n it eats into the leaves, \n smears with saffron \n the horned branches that lean \n heavily \n against a smooth purple sky!"
}, {
  name: "“Love Poem to Be Read to an Illiterate Friend” Tess Gallagher \n \n So the hope of love \n translates as a series of hidden moments \n where we like to think \n someone was fooled \n into it."
}, {
  name: "“Love and Question” Robert Frost \n \n The bridegroom thought it little to give \n    A dole of bread, a purse, \n A heartfelt prayer for the poor of God, \n    Or for the rich a curse; \n But whether or not a man was asked \n    To mar the love of two \n By harboring woe in the bridal house, \n    The bridegroom wished he knew."
}, {
  name: "“Love and Friendship” Emily Bronte \n \n Love is like the wild rose-briar, \n Friendship like the holly-tree— \n The holly is dark when the rose-briar blooms \n But which will bloom most constantly?"
}, {
  name: "“Love’s Witness” Aphra Behn \n \n But Billetdoux are constant Witnesses, \n Substantial Records to Eternity; \n Just Evidences, who the Truth confess, \n On which the Lover safely may rely; \n They’re serious Thoughts, digested and resolv’d; \n And last, when Words are into Clouds devolv’d."
}, {
  name: "“Love Song for Alex, 1979” Margaret Walker \n \n My monkey-wrench man is my sweet patootie; \n the lover of my life, my youth and age. \n My heart belongs to him and to him only;"
}, {
  name: "“Love and Work” Rachel Wetzsteon \n \n The girl who gets up from her desk and dumbs \n her discourse down has never seen the flight \n \n of wide-eyed starlings from their shabby cage; \n the fool whose love is truest is the one \n who knows a lover’s work is never done."
}, {
  name: "“Love Song” Henry Dumas \n \n Beloved, \n I have to adore the earth: \n \n The wind must have heard \n your voice once. \n It echoes and sings like you."
}, {
  name: "“Love Poem to a Butch Woman” Deborah A. Miranda \n \n ...I want to re-fashion \n the matrix of creation, make a human being \n from the human love that passes between \n our bodies. Sweetheart, this is how it is:"
}, {
  name: "“Love and Sleep” Algernon Charles Swinburne \n \n Lying asleep between the strokes of night \n     I saw my love lean over my sad bed, \n     Pale as the duskiest lily’s leaf or head, \n Smooth-skinned and dark, with bare throat made to bite, \n Too wan for blushing and too warm for white, \n     But perfect-coloured without white or red."
}, {
  name: "“Love’s Good-Morrow” Thomas Heywood \n \n Pack, clouds away! and welcome day! \n With night we banish sorrow; \n Sweet air, blow soft, mount larks aloft \n To give my love good-morrow!"
}, {
  name: "“Love Lies Beyond the Tomb” John Clare \n \n Love lives beyond \n The tomb, the earth, which fades like dew— \n                I love the fond, \n The faithful, and the true \n \n                Love lives in sleep, \n 'Tis happiness of healthy dreams \n                Eve’s dews may weep,\n But love delightful seems."
}, {
  name: "“Love Me Little, Love Me Long” Anonymous \n \n Love me little, love me long, \n Is the burden of my song. \n Love that is too hot and strong \n     Burneth soon to waste:"
}, {
  name: "“Love Is A Sickness Full of Woes” Samuel Daniel \n \n Love is a sickness full of woes, \n All remedies refusing; \n A plant that with most cutting grows, \n Most barren with best using."
}, {
  name: "“Love’s Growth” John Donne \n \n I scarce believe my love to be so pure \n    As I had thought it was, \n    Because it doth endure \n Vicissitude, and season, as the grass; \n Methinks I lied all winter, when I swore \n My love was infinite, if spring make’ it more."
}, {
  name: "“Love and Death” Lord Byron (George Gordon) \n \n I watched thee when the foe was at our side, n\ Ready to strike at him—or thee and me, \n Were safety hopeless—rather than divide \n Aught with one loved save love and liberty."
}, {
  name: "“Love Explained” Jennifer Michael Hecht \n \n ...Thus explained \n the woman in contractions \n \n to her lover holding on \n the telephone for the doctor \n \n to recover from this strange \n conversational turn. "
}, {
  name: "“Love Letter (Clouds)” Sarah Manguso \n \n I didn’t fall in love. I fell through it: \n \n Came out the other side moments later, hands full of matter, waking up from the dream of a bullet \n      tearing through the middle of my body."
}, {
  name: "“Love Again” Philip Larkin \n \n Love again: wanking at ten past three \n (Surely he’s taken her home by now?), \n The bedroom hot as a bakery, \n The drink gone dead, without showing how \n To meet tomorrow, and afterwards, \n And the usual pain, like dysentery."
}, {
  name: "“Love at Thirty-Two Degrees” Katherine Larson \n \n ....But I’m thinking \n of fingertips on my lover’s neck \n last June. Amazing, hearts. \n This brachial heart. "
}, {
  name: "“Loves” Scott Cairns \n \n Of Love’s discrete occasions, we \n observe sufficient catalogue, \n a likely-sounding lexicon \n \n pronounced so as to implicate \n a wealth of difference, where reclines \n instead a common element,"
}, {
  name: "“Love’s Nocturn” Dante Gabriel Rossetti \n \n    Not the prayers which with all leave \n       The world's fluent woes prefer,— \n Not the praise the world doth give, \n       Dulcet fulsome whisperer;— \n       Let it yield my love to her, \n           And achieve \n       Strength that shall not grieve or err."
}, {
  name: "“Love Lily” Dante Gabriel Rossetti \n \n Between the hands, between the brows, \n Between the lips of Love-Lily, \n A spirit is born whose birth endows \n My blood with fire to burn through me;"
}, {
  name: "“Love Song” Dorothy Parker \n \n My own dear love, he is strong and bold \n       And he cares not what comes after. \n His words ring sweet as a chime of gold, \n       And his eyes are lit with laughter."
}, {
  name: "“Love in the Valley” George Meredith \n \n Under yonder beech-tree single on the green-sward, \n Couched with her arms behind her golden head, \n Knees and tresses folded to slip and ripple idly, \n Lies my young love sleeping in the shade."
}, {
  name: "“Love (III)” George Herbert \n \n Love bade me welcome. Yet my soul drew back \n                               Guilty of dust and sin. \n But quick-eyed Love, observing me grow slack \n                              From my first entrance in, \n Drew nearer to me, sweetly questioning, \n                              If I lacked any thing."
}, {
  name: "“Love (I)” George Herbert \n \n Immortal Love, author of this great frame, \n Sprung from that beauty which can never fade, \n How hath man parcel'd out Thy glorious name, \n And thrown it on that dust which Thou hast made, \n While mortal love doth all the title gain!"
}, {
  name: "“Lovers’ Infiniteness” John Donne \n \n If yet I have not all thy love, \n Dear, I shall never have it all; \n I cannot breathe one other sigh, to move, \n Nor can intreat one other tear to fall; \n And all my treasure, which should purchase thee— \n Sighs, tears, and oaths, and letters—I have spent."
}, {
  name: "“Love’s Deity” John Donne \n \n I long to talk with some old lover's ghost, \n       Who died before the god of love was born. \n I cannot think that he, who then lov'd most, \n       Sunk so low as to love one which did scorn."
}, {
  name: "“Love’s Alchemy” John Donne \n \n Some that have deeper digg'd love's mine than I, \n Say, where his centric happiness doth lie; \n          I have lov'd, and got, and told, \n But should I love, get, tell, till I were old, \n I should not find that hidden mystery."
}, {
  name: "“Love’s Apparition and Evanishment: An Allegoric Romance” Samuel Taylor Coleridge \n \n And—whether 'twas a transient sleep, perchance, \n Flitted across the idle brain, the while \n I watch'd the sickly calm with aimless scope, \n In my own heart; or that, indeed a trance, \n Turn'd my eye inward—thee, O genial Hope, \n Love's elder sister! thee did I behold \n Drest as a bridesmaid, but all pale and cold, \n With roseless cheek, all pale and cold and dim, \n       Lie lifeless at my feet!"
}];

let randomIndex;
let gameState = 'title';
let startTime = 0;
let timeInt = 2700; //30sec
let timeFrame;

function preload() {
  // font = loadFont('./txt/sacramento.ttf');
  loading = loadImage('./img/load.gif');
  loading2 = loadImage('./img/loading.gif');
  bgImg = loadImage('./img/bg.jpg');
  titleGif = loadImage('./img/title.gif');
  instGif = loadImage('./img/inst.gif');
  randGif = loadImage('./img/randomizer.gif');
  // font = loadFont('./txt/splash.ttf');
  font = loadFont('./txt/nanumpenscript.ttf');
}

function setup() {
  let c = createCanvas(windowWidth, windowHeight * 0.9);
  c.parent("myCanvas");
  frameRate(60); //set frameRate
  angleMode(DEGREES);
  textFont(font);
  textSize(50);

  begin = new Clickable();
  begin.locate(650, 300);
  begin.textFont = font;
  begin.textSize = 30;
  begin.textScaled = false;
  begin.textAlign = 'center';
  begin.color = '#d9d1a000';
  begin.text = 'Begin <3';
  begin.strokeWeight = 1.25;
  begin.width = 125;
  begin.height = 40;
  begin.onHover = function() {
    begin.textSize = 35;
  }
  begin.onPress = function() {
    gameState = 'instruction';
    startTime = frameCount;
    timeFrame = startTime+timeInt;
  }
  begin.onOutside = function() {
    begin.textSize = 30;
  }

  generatePoem = new Clickable();
  generatePoem.locate(600, 400);
  generatePoem.textFont = font;
  generatePoem.textSize = 30;
  generatePoem.textScaled = false;
  generatePoem.textAlign = 'center';
  generatePoem.color = '#d9d1a000';
  generatePoem.text = 'Generate My Poem <3';
  generatePoem.strokeWeight = 1.25;
  generatePoem.width = 300;
  generatePoem.height = 40;
  generatePoem.onHover = function() {
    generatePoem.textSize = 35;
  }
  generatePoem.onPress = function() {
    gameState = 'loading';
    randomIndex = int(random(poem.length));
    frameCount = 0;
  }
  generatePoem.onOutside = function() {
    generatePoem.textSize = 30;
  }

  cont = new Clickable();
  cont.locate(200, 475);
  cont.textFont = font;
  cont.textSize = 30;
  cont.textScaled = false;
  cont.textAlign = 'center';
  cont.color = '#d9d1a000';
  cont.text = 'Proceed ->';
  cont.strokeWeight = 1.25;
  cont.width = 150;
  cont.height = 40;
  cont.onHover = function() {
    cont.textSize = 35;
  }
  cont.onPress = function() {
    gameState = 'end';
  }
  cont.onOutside = function() {
    cont.textSize = 30;
  }

  statement = new Clickable();
  statement.locate(windowWidth * 0.25, 325);
  statement.textFont = font;
  statement.textSize = 30;
  statement.textScaled = false;
  statement.textAlign = 'center';
  statement.color = '#d9d1a000';
  statement.text = 'About the Piece';
  statement.strokeWeight = 1.25;
  statement.width = 225;
  statement.height = 40;
  statement.onHover = function() {
    statement.textSize = 35;
  }
  statement.onPress = function() {
    gameState = 'statement';
  }
  statement.onOutside = function() {
    statement.textSize = 30;
  }

  home = new Clickable();
  home.locate(windowWidth * 0.52, 325);
  home.textFont = font;
  home.textSize = 30;
  home.textScaled = false;
  home.textAlign = 'center';
  home.color = '#d9d1a000';
  home.text = 'Return to Home Screen';
  home.strokeWeight = 1.25;
  home.width = 300;
  home.height = 40;
  home.onHover = function() {
    home.textSize = 35;
  }
  home.onPress = function() {
    gameState = 'title';
  }
  home.onOutside = function() {
    home.textSize = 30;
  }

  home2 = new Clickable();
  home2.locate(windowWidth * 0.41, 550);
  home2.textFont = font;
  home2.textSize = 30;
  home2.textScaled = false;
  home2.textAlign = 'center';
  home2.color = '#d9d1a000';
  home2.text = 'Return to Home Screen';
  home2.strokeWeight = 1.25;
  home2.width = 300;
  home2.height = 40;
  home2.onHover = function() {
    home2.textSize = 35;
  }
  home2.onPress = function() {
    gameState = 'title';
  }
  home2.onOutside = function() {
    home2.textSize = 30;
  }
}

function draw() {
  background(bgImg);
  //program wireframe
  switch (gameState) {
    case 'title':
      titleScreen();
      break;
    case 'instruction':
      instructionScreen(); //function
      break;
    case 'loading':
        loadingScreen();
        break;
    case 'randomizer':
      randomizerScreen();
      break;
    case 'statement':
      statementScreen();
      break;
    case 'end':
      endScreen();
      break;
  }
}

function windowResized() {
  resizeCanvas(windowWidth, windowHeight);
}

function titleScreen() {
  image(titleGif, 25, 0);
  textAlign(CENTER);
  textSize(55);
  text("Love Poems for You", windowWidth * 0.47, windowHeight * 0.4);
  begin.draw();
}

function instructionScreen() {
  image(instGif, 25, 25);
  textSize(45);
  textAlign(LEFT);
  text("A selection of verses from poems that contain the word 'love'. What love entains varies for each person, therefore, a single poem or verse can hold infinite meanings depending on the person. Whatever your interpretation is, I hope you are able to take and leave what you need from the upcoming lines of poetry. Yours truely, CTL.", windowWidth * 0.05, 150, windowWidth * 0.9, 650);
  // text("Take and leave whatever you need from them..", 700, 300);
  generatePoem.draw();
}

function loadingScreen() {
  image(loading2, 25, 27);
  image(loading, 25, 0);
  textAlign(CENTER);
  let numberDisplay = 6-(int(frameCount * 0.0166));
  if (numberDisplay > 2) {
    fill('#ffffff75');
    rectMode(CENTER);
    noStroke();
    rect(windowWidth * 0.47, windowHeight * 0.45, 275, 55);
    fill(0);
    text('Poem loading...', windowWidth * 0.47, windowHeight * 0.47);
  }

  if (numberDisplay < 2) {
    fill('#ffffff75');
    rectMode(CENTER);
    noStroke();
    rect(windowWidth * 0.47, windowHeight * 0.45, 325, 55);
    fill(0);
    text('Your poem is ready!', windowWidth * 0.47, windowHeight * 0.47);
  }

  if (numberDisplay < 0) {
    gameState = "randomizer";
  }
}

function randomizerScreen() {
  image(randGif, 25, 30);
  textSize(35);
  textAlign(LEFT);
  text(poem[randomIndex].name, windowWidth * 0.05, windowHeight * 0.1);
  textAlign(CENTER);
  rectMode(CORNER);
  cont.draw();
}

function statementScreen() {
  image(instGif, 25, 25);
  textSize(35);
  textAlign(LEFT);
  text("For more poems pertaining to 'love', take a look at the Poetry Foundation website. \n \nAs a hopeless romantic, love, whether platonic or romantic, is a comforting concept. Love can be interpreted and understood in so many different ways, and the same can be said for poetry. I curated a selection of poems that contain 'love' in the title and selected the first verse/lines that included the word 'love' (i.e. love, beloved, lover, etc).With this project, I want to allow the viewers to have a playful fortune telling experience with love poems, where they can interpret the poems in whichever way they see it and to leave behind and take whatever they need from the words that appear in front of them on the screen. \n \nThank you for taking the time to learn more about this piece, I hope you enjoyed this experience.", windowWidth * 0.05, 75, windowWidth * 0.9, windowHeight * 0.95);
  home2.draw();
}

function endScreen() {
  image(instGif, 25, 25);
  text("Thank you for taking a spin with love, I hope you're satisfied with the poem you got! Not so much? Press the button below to spin again or to learn more about this piece. Best regards, CTL <3.", windowWidth * 0.05, 200, windowWidth * 0.9, 650);
  home.draw();
  statement.draw();
}
